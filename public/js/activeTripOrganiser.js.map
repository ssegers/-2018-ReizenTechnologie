{"version":3,"sources":["activeTripOrganiser.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"activeTripOrganiser.js","sourcesContent":["$(document).ready(function() {\r\n\r\n    // Save the place increment and value of the select\r\n    var trip_id =  $('.travelChanged').val();\r\n    getActiveOrganizers(trip_id);\r\n\r\n    // Monitor your selects for change by classname\r\n    $('.travelChanged').on('change', function() {\r\n\r\n        // Save the place increment and value of the select\r\n        trip_id = $(this).val();\r\n        getActiveOrganizers(trip_id);\r\n    });\r\n\r\n\r\n    function getActiveOrganizers(trip_id) {\r\n        // Send this data to a script somewhere via AJAX\r\n        $.ajax({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            },\r\n            type: \"POST\",\r\n            url: \"linkorganisator/\",\r\n            data: {\r\n                trip_id: trip_id,\r\n            }\r\n        })\r\n            .done(function( result ) {\r\n                var data = result['aMentors'];\r\n                buildTable(data);\r\n            });\r\n    }\r\n\r\n\r\n});\r\n\r\nfunction buildTable(data) {\r\n    $(\".organizerTable tbody > tr\").remove();\r\n\r\n    for (let i = 0; i < data.length; i++) {\r\n        $(\".organizerTable tbody\").append('<tr>' +\r\n            '<td>' + data[i].first_name + '</td>' +\r\n            '<td>' + data[i].last_name + '</td>' +\r\n            '<td>' +\r\n            '<button onclick=\"deleteActiveOrganizer(this,' + data[i].traveller_id + ')\">' +\r\n            '<i class=\"fas fa-minus-circle\"></i></button>' +\r\n            '</td>' +\r\n            '</tr>');\r\n    }\r\n}\r\n\r\nfunction deleteActiveOrganizer(e,traveller_id) {\r\n    var trip_id =  $('.travelChanged').val();\r\n    $.ajax({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        },\r\n        type: \"DELETE\",\r\n        url: \"linkorganisator/delete\",\r\n        data: {\r\n            trip_id: trip_id,\r\n            traveller_id: traveller_id,\r\n        },\r\n        success: function(msg){\r\n            e.parentElement.parentElement.remove();\r\n        }\r\n});\r\n}\r\n\r\nfunction addActiveOrganizer() {\r\n        var checkedVals = $('.organizersCheckbox:checkbox:checked').map(function() {\r\n            return this.value;\r\n        }).get();\r\n    var trip_id =  $('.travelChanged').val();\r\n\r\n    // Send this data to a script somewhere via AJAX\r\n    $.ajax({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        },\r\n        type: \"POST\",\r\n        url: \"linkorganisator/add\",\r\n        data: {\r\n            trip_id: trip_id,\r\n            traveller_ids: checkedVals,\r\n        }\r\n    })\r\n        .done(function( result ) {\r\n            var data = result['aMentors'];\r\n            buildTable(data);\r\n            $('.modal').modal('toggle');\r\n        });\r\n}\r\n//# sourceMappingURL=activeTripOrganiser.js.map\r\n"]}